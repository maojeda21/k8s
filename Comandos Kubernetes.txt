-- KUBERNETES --

kubectl: herramienta basica para Kubernete, nos permite trabajar con cluster en linux.

start: arranca un cluster de Kubernetes de manera local.
    minikube start

Virtual Box: por defecto minikube usa docker como generador de maquina virtual, si queremos usar virtual box ejecutamos el siguiente comando.
    minikube start --driver=virtualbox

status: para ver el estado de nuestro cluster.
    minikube status

dashboard: para abrir un dashboard
    minikube dashboard

run: se usa para hacer un deployment o un despliegue, funciona igual que el run de docker, pero cambia las demas sintaxis.
    kubectl run (nombre del contenedor) --image=(nombre de la imagen)
    kubectl run n1 --image=nginx

create: crea un deployment, un deployment es un conjunto de instrucciones para que un contenedor pueda funcionar en un pod
    kubectl create deployment (nombre-deployment) --image=(nombre-de-la-imagen)
    kubectl create deployment hello-world --image=nginx

get: permite visualizar los elementos, servicios y demas componentes del cluster.
    kubectl get (algun servicio o elemento)

deployments: muestra los deployment del cluster.
    kubectl get deployment

pods: muestra los pods creados o disponibles.
    kubectl get pods

service: muestra todos los servicios del cluster.
    kubectl get services

nodes: muestra informacion de los nodos que tenemos.
    kubectl get nodes
    kubectl get nodes -o wide (mayor y mejor informacion)

-o wide: brinda mayor informacion de los pods.
    kubectl get pods -o wide

cluster-info: muestra informacion del cluster.
    kubectl cluster-info
    
proxy: nos permite acceder desde el exterior al interior de la red que usan los pods o contenedores.
    kubectl proxy
    - Luego entrando al navegador mediante la dirccion del localhost con el puerto 8001 veremos las apis necesarias para acceder a los componentes del cluster.
    - Por ej, para entrar al contenedor de nginx mediante el navegador: http://localhost:8001/api/v1/namespaces/default/pods/n1/proxy/

describe: secribe un determinado servicio o pods, similar al inspect de docker.
    kubectl describe pods

logs: muestra lo que esta haciendo o ejecutando dentro del pod
    kubectl logs (nombre del pod o contenedor)

exec: ejecuta comando dentro del contenedor, como docker.
    kubectl exec (nombre del pod) (comando a ejectuar)
    kubectl exec n1 bash/ls

expose: es la manera mas sencilla de crear un servicio (crea un servicio para exponer un deployment).
    kubectl expose (nombre del servicio) --type="NodePort" --port 80 (hay varios tipos de "type")
    kubectl expose deployments/nginx1 --type="NodePort" --port 80

ip: permite ver la configuracion y la IP que se asigno al servidor del cluster.
    minikube ip

logs: permite ver los logs del cluster.
    minikube logs

ssh: podemos loguearnos dentro de la maquina virtual que hemos creado con minikube.
    minikube ssh

update-check: permite comprobar si hay una version mas nueva de minikube.
    minikube update-check

El archivo de configuracion de kubectl se encuentra dentro de la carpeta oculta .kube, el archivo config.

El archivo de configuracion de minikube se encuentra dentro de la carpeta ocula .minikube, el archivo config.

El o los cluster creados por minikube lo podemos ver dentro del directorio oculto .minikube/machines

--container-runtime=cri-o: arrancar una maquina virtual con otro tipo de conteiner runtime.
    minikube start --container-runtime=crio-o

-p: crear otro cluster con otro perfil(-p de perfil)
    minikube start -p (nombre del perfil)
    minikube start -p desarrollo

profile: permite ver en que cluster estamos.
    minikube profile

profile list: nos da una lista de los cluster que tenemos.
    minikube profile list

- Con profile nos podemos mover entre los distintos cluster que tengamos.
    minikube profile (nombre del cluster)

    -- PODS --

Es el objeto minimo que podemos encontrar en Kubernetes.
Normalmente un POD contiene un contenedor, un pod tiene un  conjunto de recursos propios, como ser, RAM, procesador, direcciones de red, puertos, hostname, 
volumenes, incluso una direccion de red unica, estos pods se crean en un cluster, el pod se comunica con los demas pods por una net virtual privada dentro de Kubernetes.
no se deben guardar nada dentro de los pods.

1. IMPERATIVO: despliega una aplicación en un POD, un POD es como una burbuja donde dentro de el se ejecutan uno o varios contenedores.

2. DELARATIVO: se hace atra vez de archivos MANIFEST(YAML)

run: crear un pod de manera automatica que se cree y se ejecute en ese momento y con el que podamos interactuar.
    kubectl run nginx1 --image=nginx

describe (componente/type): se ejecuta el comando describe seuido de algun pods/services/deployments.
    kubectl describe pod/n1

exec: permite ejecutar un comando contra un contenedor, igual que el exce de docker.
    kubectl exec nombre-pod comando-a-introducir
    kubectl exec n1 ls
    kubectl exec n1 -it bash

--port= : para exponer el puerto de un contenedor/pod.
    kubectl run apache --image=httpd --port=8080

logs: para ver los logs de un pod.
    kubectl logs (nombre-pod)
    kubectl logs apache
    - con el parametro -f se queda esperando el log.
    kubectl logs -f apache
    - con el parametro --tail= le podemos indicar el numero de lineas que queremos ver de los logs.
    kubectl logs apache --tail=30

     -- FICHERO YAML --

# Las cadenas no requieren comillas:
Titulo: Introcuccion a TAML
# Pero se pueden usar:
title-w-quotes: 'Intruccion a TAML' -> properties:'valor'

# Las cadenas multilineas comienzan con |
ejecutar: |
    npm cr
    npm build
    prueba npm

# Secuencias
# Las secuencias nos permiten definir listas en YAML:
# Una lista de números usando guiones:
números:
    - uno
    - dos 
    - Tres

# La version en linea:
numeros: [uno, dos, tres]

# Valores anidados
# Podemos usar todos los tipos anteriores para crear un objeto con valores anidados, asi:
# Mil novecientos ochenta y cuatro datos nuevos.
1984:
    autor:  Cosme Fulanito
    publicado en: 1949-06-08
    recuento de paginas: 328
    descripcion: |
        Una novela, a menudo publicada como 1984, es una novela distopica del novelista ingles Cosme Fulanito.
        Fue publicado en Junio de 1949 por Secker & Warburg como noveno y ultimo b de Orwell.

# Lista de objetos
# Combinando secuencias y valores anidados podemos crear una lista de objetos.
# Hagamos una lista de libros:
- 1984:
    autor: Coste Fulanito
    publicado en: 1949-06-08
    recuento de paginas: 328
    descripcion: |
        Una novela, a menudo publicada como 1984, es una novela distopica del novelista ingles Cosme Fulanito.

- el Hobbit:
    autor: J. R. R. Tolkien
    publicado en: 1937-09-21
    recuento de paginas: 310
    descripcion: |
        The Hobbit, o There and back Again es una novela de fantasía para niños del autor ingles J. R. R. Tolkien



